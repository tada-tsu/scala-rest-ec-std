webpackHotUpdate("app",{

/***/ "./src/store.js":
/*!**********************!*\
  !*** ./src/store.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm.js\");\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vuex */ \"./node_modules/vuex/dist/vuex.esm.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js-cookie */ \"./node_modules/js-cookie/src/js.cookie.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvue__WEBPACK_IMPORTED_MODULE_0__[\"default\"].use(vuex__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (new vuex__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Store({\n  state: {\n    loggedin: false,\n    token: \"\",\n    token_expired_at: \"\",\n    user: \"\",\n    products: [],\n    cart: {}\n  },\n  mutations: {\n    getProducts: function getProducts(state, res) {\n      state.products = res.data;\n    },\n    loggedIn: function loggedIn(state) {\n      state.loggedin = true;\n    },\n    loggedOut: function loggedOut(state) {\n      state.loggedin = false;\n    },\n    cartin: function cartin(state, res) {\n      state.cart = res.data;\n    }\n  },\n  actions: {\n    getProducts: function getProducts(_ref) {\n      var commit = _ref.commit;\n\n      this._vm.$http({\n        method: \"GET\",\n        url: \"/v1/store/product\"\n      }).then(function (res) {\n        commit(\"getProducts\", res);\n      });\n    },\n    login: function login(_ref2, _ref3) {\n      var _this = this;\n\n      var commit = _ref2.commit,\n          dispatch = _ref2.dispatch,\n          state = _ref2.state;\n      var _login = _ref3.login,\n          password = _ref3.password;\n\n      this._vm.$http({\n        url: \"/v1/login/\",\n        method: \"POST\",\n        data: {\n          \"login\": _login,\n          \"pass\": password\n        }\n      }).then(function (res) {\n        state.token = res.data.token;\n        state.token_expired_at = res.data.token_expired_at;\n        state.user = res.data.user;\n        _this._vm.$http.defaults.headers.common[\"Authorization\"] = \"Bearer \".concat(res.data.token);\n        _this._vm.$http.defaults.headers.common[\"Authorization-User-Screen\"] = \"\".concat(res.data.user.screen_name);\n        js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.set(\"token\", res.data.token, {\n          expires: new Date(res.data.token_expired_at)\n        });\n        js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.set(\"screen_name\", res.data.user.screen_name);\n        dispatch(\"checkLogin\");\n      });\n    },\n    checkLogin: function checkLogin(_ref4) {\n      var _this2 = this;\n\n      var commit = _ref4.commit,\n          dispatch = _ref4.dispatch;\n      return new Promise(function (resolve) {\n        if (js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"token\") && js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"screen_name\")) {\n          _this2._vm.$http.defaults.headers.common[\"Authorization\"] = \"Bearer \".concat(js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"token\"));\n          _this2._vm.$http.defaults.headers.common[\"Authorization-User-Screen\"] = \"\".concat(js_cookie__WEBPACK_IMPORTED_MODULE_2___default.a.get(\"screen_name\"));\n        }\n\n        _this2._vm.$http({\n          method: \"GET\",\n          url: \"/v1/me/\"\n        }).then(function (res) {\n          if (res.status == 200) {\n            commit(\"loggedIn\");\n            resolve(true);\n          } else {\n            commit(\"loggedOut\");\n            resolve(false);\n          }\n        });\n      });\n    },\n    getCart: function getCart(_ref5) {\n      var _this3 = this;\n\n      var commit = _ref5.commit,\n          dispatch = _ref5.dispatch;\n\n      this._vm.$http({\n        method: \"GET\",\n        url: \"/v1/store/cart\"\n      }).then(function (res) {\n        dispatch(\"cartin\", res);\n\n        _this3._vm.$notify({\n          group: 'default',\n          title: 'カートを更新しました',\n          type: \"success\"\n        });\n      });\n    },\n    cartin: function cartin(_ref6, res) {\n      var commit = _ref6.commit,\n          dispatch = _ref6.dispatch;\n      commit(\"cartin\", res);\n    }\n  }\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUuanM/YzBkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnXG5cbmltcG9ydCBDb29raWVzIGZyb20gXCJqcy1jb29raWVcIjtcblxuVnVlLnVzZShWdWV4KVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7XG4gICAgc3RhdGU6IHtcbiAgICAgICAgbG9nZ2VkaW46IGZhbHNlLFxuICAgICAgICB0b2tlbjogXCJcIixcbiAgICAgICAgdG9rZW5fZXhwaXJlZF9hdDogXCJcIixcbiAgICAgICAgdXNlcjogXCJcIixcbiAgICAgICAgcHJvZHVjdHM6IFtdLFxuICAgICAgICBjYXJ0OiB7fSxcbiAgICB9LFxuICAgIG11dGF0aW9uczoge1xuICAgICAgICBnZXRQcm9kdWN0cyhzdGF0ZSwgcmVzKSB7XG4gICAgICAgICAgICBzdGF0ZS5wcm9kdWN0cyA9IHJlcy5kYXRhXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ2dlZEluKHN0YXRlKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dnZWRpbiA9IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbG9nZ2VkT3V0KHN0YXRlKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dnZWRpbiA9IGZhbHNlXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FydGluKHN0YXRlLCByZXMpIHtcbiAgICAgICAgICAgIHN0YXRlLmNhcnQgPSByZXMuZGF0YVxuICAgICAgICB9XG4gICAgfSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICAgIGdldFByb2R1Y3RzKHtcbiAgICAgICAgICAgIGNvbW1pdFxuICAgICAgICB9KSB7XG4gICAgICAgICAgICB0aGlzLl92bS4kaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCIvdjEvc3RvcmUvcHJvZHVjdFwiXG4gICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgY29tbWl0KFwiZ2V0UHJvZHVjdHNcIiwgcmVzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBsb2dpbih7XG4gICAgICAgICAgICBjb21taXQsXG4gICAgICAgICAgICBkaXNwYXRjaCxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsb2dpbixcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICB9KSB7XG4gICAgICAgICAgICB0aGlzLl92bS4kaHR0cCh7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi92MS9sb2dpbi9cIixcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpblwiOiBsb2dpbixcbiAgICAgICAgICAgICAgICAgICAgXCJwYXNzXCI6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZS50b2tlbiA9IHJlcy5kYXRhLnRva2VuXG4gICAgICAgICAgICAgICAgc3RhdGUudG9rZW5fZXhwaXJlZF9hdCA9IHJlcy5kYXRhLnRva2VuX2V4cGlyZWRfYXRcbiAgICAgICAgICAgICAgICBzdGF0ZS51c2VyID0gcmVzLmRhdGEudXNlclxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdm0uJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3Jlcy5kYXRhLnRva2VufWBcbiAgICAgICAgICAgICAgICB0aGlzLl92bS4kaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIkF1dGhvcml6YXRpb24tVXNlci1TY3JlZW5cIl0gPSBgJHtyZXMuZGF0YS51c2VyLnNjcmVlbl9uYW1lfWBcblxuICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KFwidG9rZW5cIiwgcmVzLmRhdGEudG9rZW4sIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogbmV3IERhdGUocmVzLmRhdGEudG9rZW5fZXhwaXJlZF9hdClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KFwic2NyZWVuX25hbWVcIiwgcmVzLmRhdGEudXNlci5zY3JlZW5fbmFtZSlcblxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFwiY2hlY2tMb2dpblwiKVxuXG5cblxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVja0xvZ2luKHtcbiAgICAgICAgICAgIGNvbW1pdCxcbiAgICAgICAgICAgIGRpc3BhdGNoLFxuICAgICAgICB9KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZT0+e1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgQ29va2llcy5nZXQoXCJ0b2tlblwiKSAmJlxuICAgICAgICAgICAgICAgICAgICBDb29raWVzLmdldChcInNjcmVlbl9uYW1lXCIpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZtLiRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHtDb29raWVzLmdldChcInRva2VuXCIpfWBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdm0uJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bXCJBdXRob3JpemF0aW9uLVVzZXItU2NyZWVuXCJdID0gYCR7Q29va2llcy5nZXQoXCJzY3JlZW5fbmFtZVwiKX1gXG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuX3ZtLiRodHRwKHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL3YxL21lL1wiLFxuICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21taXQoXCJsb2dnZWRJblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0KFwibG9nZ2VkT3V0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0Q2FydCh7Y29tbWl0LGRpc3BhdGNofSl7XG4gICAgICAgICAgICB0aGlzLl92bS4kaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCIvdjEvc3RvcmUvY2FydFwiXG4gICAgICAgICAgICB9KS50aGVuKHJlcz0+e1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFwiY2FydGluXCIsIHJlcylcbiAgICAgICAgICAgICAgICB0aGlzLl92bS4kbm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdkZWZhdWx0JyxcbiAgICAgICAgICB0aXRsZTogJ+OCq+ODvOODiOOCkuabtOaWsOOBl+OBvuOBl+OBnycsXG4gICAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FydGluKHtcbiAgICAgICAgICAgIGNvbW1pdCxcbiAgICAgICAgICAgIGRpc3BhdGNoLFxuICAgICAgICB9LCByZXMpIHtcbiAgICAgICAgICAgIGNvbW1pdChcImNhcnRpblwiLCByZXMpXG4gICAgICAgIH0sXG4gICAgfVxufSlcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFiQTtBQWVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUhBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUEvRkE7QUF4QkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/store.js\n");

/***/ })

})